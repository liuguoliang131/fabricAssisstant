(self.webpackChunkwebpack_config=self.webpackChunkwebpack_config||[]).push([[456],{1456:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(6202),r=t(9348),l=t(717),i=t(3109),o=t.n(i),c=t(8066),s=t.n(c),m=t(47),v=t.n(m),u=t(7294),d=t(3042),y=t(3379),g=t.n(y),f=t(5214),h={insert:"head",singleton:!1},p=(g()(f.Z,h),f.Z.locals,t(3748)),E=t(1850),b=function(){var e,n=localStorage.getItem("userInfo"),i=JSON.parse(n).userCompanyOut.companyId,c=new Date,m=(c.getFullYear(),(c.getMonth()+1).toString()),y=(1===m.length&&"0".concat(m),(0,u.useState)("1")),g=(0,l.Z)(y,2),f=g[0],h=g[1],b=(0,u.useState)(""),N=(0,l.Z)(b,2),x=N[0],w=N[1];(0,u.useEffect)((function(){S(1,f)}),[]);var S=function(){var e=(0,r.Z)(o().mark((function e(n,t){var r,l,c,m,v,u,d,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.Yu)(s()(r=s()(l=s()(c=s()(m=s()(v="".concat(E.Nx,"?pageNo=")).call(v,n,"&pageSize=")).call(m,P,"&companyId=")).call(c,i,"&type=")).call(l,t,"&articleNumber=")).call(r,x));case 3:(u=e.sent).success?(y={lastPage:u.model.lastPage,pageNo:u.model.pageNo,pageSize:u.model.pageSize,startIndex:u.model.startIndex,sumPage:u.model.sumPage,sumRow:u.model.sumRow,data:1===n?u.model.data:s()(d=[]).call(d,(0,a.Z)(H.data),(0,a.Z)(u.model.data))},Z(u.model.pageNo),L(y)):alert(u.msg),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0,alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),k=(0,u.useState)(1),F=(0,l.Z)(k,2),C=F[0],Z=F[1],z=(0,u.useState)(10),I=(0,l.Z)(z,2),P=I[0],D=(I[1],(0,u.useState)({lastPage:!1,pageNo:0,pageSize:0,startIndex:0,sumPage:0,sumRow:0,data:[]})),R=(0,l.Z)(D,2),H=R[0],L=R[1],O=(0,u.useState)(null),T=(0,l.Z)(O,2),Y=T[0],_=T[1];return u.createElement("div",{className:"inventory"},u.createElement(d.Z,null,"库存统计"),u.createElement("div",{className:"main",style:{background:"#ffffff",overflow:"hidden"}},u.createElement("div",{className:"inventory-content"},u.createElement("div",{className:"inventory-search"},u.createElement("div",{className:"select inventorySearch"},u.createElement("select",{onChange:function(e){h(e.target.value),S(1,e.target.value)},value:f},u.createElement("option",{label:"面料",value:"1"},"面料"),u.createElement("option",{label:"商品",value:"2"},"商品")),u.createElement("span",null)),u.createElement("div",{className:"input order-input"},u.createElement("img",{className:"searchImg",src:t(3842)}),u.createElement("input",{type:"text",placeholder:"请输入货号",value:x,onChange:function(e){w(e.target.value)}})),u.createElement("div",{className:"inventory-screening",onClick:function(){Y&&(Y.scrollTop=0),S(1,f)}},"筛选"))),H.data.length?u.createElement("div",{className:"inventory-tableData"},u.createElement("div",{className:"inventory-table inventory-tableColumns"},u.createElement("div",{className:"inventory-information"},"商品信息"),u.createElement("div",null,"上月结余"),u.createElement("div",null,"采购"),u.createElement("div",null,u.createElement("div",null,u.createElement("div",null,"消耗"),u.createElement("div",null,"待消耗"))),u.createElement("div",null,"库存")),u.createElement("div",{className:"inventory-main",ref:function(e){_(e)},onScrollCapture:function(){Y&&Y.scrollTop+Y.clientHeight>=Y.scrollHeight&&(H.sumPage,C+1<=H.sumPage&&S(C+1,f))}},v()(e=H.data).call(e,(function(e,n){return u.createElement("div",{className:"inventory-table inventory-tableList",key:n},u.createElement("div",{className:"inventory-information"},u.createElement("div",{className:"inventory-title"},"名称：",e.bookName),u.createElement("div",{className:"inventory-title"},"品牌：",e.brandName),u.createElement("div",{className:"inventory-title"},"货号：",e.materialArticleNumber)),u.createElement("div",null,u.createElement("div",null,"/"),u.createElement("div",{className:"inventory-unit"})),u.createElement("div",null,u.createElement("div",null,"/"),u.createElement("div",{className:"inventory-unit"})),u.createElement("div",null,u.createElement("div",null,"/"),u.createElement("div",{className:"inventory-unit"})),u.createElement("div",null,u.createElement("div",null,0|e.stockCount),u.createElement("div",{className:"inventory-unit"},"(",e.unit,")")))})))):u.createElement("div",{className:"noData"},"暂无数据")))}},5214:function(e,n,t){"use strict";var a=t(3645),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,".inventory {\n  width: 100%;\n  height: 100%;\n}\n\n.inventory .inventory-content {\n  box-sizing: border-box;\n  padding: 0.4rem;\n  width: 100%;\n}\n\n.inventory .inventory-content .inventory-search {\n  width: 100%;\n  display: flex;\n  box-sizing: border-box;\n}\n\n.inventory .inventory-content .inventory-search .inventorySearch {\n  margin-right: 0.4rem;\n}\n\n.inventory .inventory-content .inventory-search .input {\n  flex: 2;\n  display: flex;\n  margin-right: 0.4rem;\n}\n\n.inventory .inventory-content .inventory-search .inventory-screening {\n  width: 1.52rem;\n  height: 0.826667rem;\n  line-height: 0.826667rem;\n  background: #3376FF;\n  border-radius: 0.106667rem;\n  font-size: 0.346667rem;\n  font-weight: 500;\n  color: #FFFFFF;\n  text-align: center;\n}\n\n.inventory .inventory-table {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.266667rem;\n  font-weight: 500;\n  color: #666666;\n}\n\n.inventory .inventory-table > div {\n  flex: 1;\n  text-align: center;\n}\n\n.inventory .inventory-table .inventory-information {\n  flex: 2;\n}\n\n.inventory .inventory-tableColumns {\n  height: 1.066667rem;\n  background: #F5F5F5;\n}\n\n.inventory .inventory-tableList {\n  padding: 0.4rem 0;\n  border: 0.013333rem solid #F0F0F0;\n  color: #333333;\n}\n\n.inventory .inventory-title {\n  margin-bottom: 0.266667rem;\n  text-align: left;\n  padding-left: 0.4rem;\n}\n\n.inventory .inventory-unit {\n  color: #C4C4C4;\n}\n\n.inventory .inventory-main {\n  height: calc(100% - 2.666667rem);\n  overflow-x: hidden;\n}\n\n.inventory .inventory-tableData {\n  width: 100%;\n  height: 100%;\n}",""]),n.Z=r}}]);